<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<template id="sd_inherit_report_invoice" inherit_id="account.report_invoice_document">
			
			<xpath expr="//div[@class='page']" position="attributes">
				<attribute name="style">font-size:11px</attribute>			
			</xpath>
			
			<xpath expr="//div/div/div[@class='col-xs-5 col-xs-offset-7']" position="replace">
				<t t-set="DESCUENTO" t-value="0" />
				<t t-foreach="o.invoice_line" t-as="l">
					<t t-if="l.discount > 0">
						<t t-set="DESCUENTO" t-value="1" />
					</t>
				</t>
				<div class="col-xs-4 col-xs-offset-4" style="font-size:16px">
					<strong>
						<span t-if="o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">Invoice</span>
						<span t-if="o.type == 'out_invoice' and o.state == 'proforma2'">PRO-FORMA</span>
						<span t-if="o.type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
						<span t-if="o.type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
						<span t-if="o.type == 'out_refund'">Refund <span style="color:#8A0829">Abono</span></span>
						<span t-if="o.type == 'in_refund'">Supplier Refund</span>
						<span t-if="o.type == 'in_invoice'">Supplier Invoice</span>
						<span t-field="o.number" />
					</strong>
				</div>
				<div style="font-size:12px">
					<div class="col-xs-8">
						<strong>
							<div t-if="o.date_invoice">
								Date invoice:
								<span t-field="o.date_invoice" />
							</div>
							<div t-if="o.origin">
								Origin:
								<span t-field="o.origin" />
							</div>
							<div t-if="o.partner_id.ref">
								Customer Code:
								<span t-field="o.partner_id.ref" />
							</div>
							<div t-if="o.name">
								Description:
								<span t-field="o.name" />
							</div>
							<br>
								<p />
							</br>
							<br />
						</strong>
					</div>
					<div class="col-xs-pull-11">
						<strong>
							Customer data
							<br />
						</strong>
						<div t-if="o.partner_id.name">
							<span t-field="o.partner_id.name" />
						</div>
						<div t-if="o.partner_id.comercial">
							<span t-field="o.partner_id.comercial" />
						</div>
						<div>
							<span t-if="o.partner_id.street">
								<span t-field="o.partner_id.street"/>
								<span t-if="o.partner_id.street2">,</span>
							</span>
							<span t-if="o.partner_id.street2">
								<span t-field="o.partner_id.street2"/>
							</span>
						</div>
						<div t-if="o.partner_id.city">
							<span t-field="o.partner_id.city" />
						</div>
						<div>
							<span t-if="o.partner_id.zip">
								<span t-field="o.partner_id.zip" />
								<span t-if="o.partner_id.state_id">,</span>
								<span t-if="not o.partner_id.state_id and o.partner_id.country_id">,</span>
							</span>
							<span t-if="o.partner_id.state_id">
								<span t-field="o.partner_id.state_id.name"/>
								<span t-if="o.partner_id.country_id">,</span>
							</span>
							<span t-if="o.partner_id.country_id">
								<span t-field="o.partner_id.country_id.name" />
							</span>
						</div>
						<div t-if="o.partner_id.vat">
							<span t-field="o.partner_id.vat" />
						</div>
						<div>
							<span t-if="o.partner_id.phone">
								<span t-field="o.partner_id.phone" />
								<span t-if="o.partner_id.mobile">-</span>
							</span>
							<span t-if="o.partner_id.mobile">
								<span t-field="o.partner_id.mobile" />
							</span>
						</div>
					</div>
				</div>
			</xpath>

			<xpath expr="//div/div[@class='row mt32 mb32']" position="replace" />

			<xpath expr="//div/h2" position="replace" />

			<xpath expr="//div/table[@class='table table-condensed']" position="replace">
				<table class="table table-condensed">
	                <thead>
	                    <tr>
	                        <th class="col-xs-5">Description</th>
	                        <th class="col-xs-2 text-center">Quantity</th>
	                        <th class="col-xs-2 text-center">Unit Price</th>
	                        <t t-if="DESCUENTO">
	                        	<th class="col-xs-1 text-center" groups="sale.group_discount_per_so_line">Disc.(%)</th>
	                        </t>
	                        <th class="col-xs-2 text-center">Amount</th>
	                    </tr>
	                </thead>
	                <tbody class="invoice_tbody">
	                    <tr t-foreach="o.invoice_line" t-as="l">
	                        <td class="col-xs-5"><span t-field="l.name"/></td>
	                        <td class="col-xs-2 text-center">
	                            <span t-field="l.quantity"/>
	                            <span t-field="l.uos_id" groups="product.group_uom"/>
	                        </td>
	                        <td class="col-xs-2 text-center">
	                            <span t-field="l.price_unit" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.currency_id&quot;}"/>
	                        </td>
	                        <t t-if="DESCUENTO">
	                        	<td class="col-xs-1 text-center" groups="sale.group_discount_per_so_line"><span t-field="l.discount"/></td>
	                        </t>
	                        <td class="col-xs-2 text-center">
	                            <span t-field="l.price_subtotal" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.currency_id&quot;}"/>
	                        </td>
	                    </tr>
	                </tbody>
	            </table>
			</xpath>

			<xpath expr="//div/div[@class='row']//table[@class='table table-condensed']/tr[2]" position="replace"/> <!-- En caso de necesitar impuesto borrar esta linea -->
			
			<xpath expr="//div/div[@class='row']//table[@class='table table-condensed']/tr[1]" position="replace"/> <!-- En caso de necesitar impuesto borrar esta linea -->
			
		</template>
	</data>
</openerp>